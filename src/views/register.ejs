<html>
<%- include("partials/head") %>



<body onload="loadcaps()" style="overflow-y: hidden;">

   <div class="headerOriginal">
      <%- include("partials/headerAdmin.ejs") %>
   </div>
   <div class="headerNavbar">
      <%- include("partials/headernavbar") %>
   </div>
   <main>

      <div class="containerRegister">

       

         <div class="LoginForm">

            <% if(locals.errors){ %>

               <script>
                   document.getElementById('popup-1').style.display = "block"
               </script>
   
               <div class="popup" id="popup-1">
                   <div class="overlay"></div>
                   <div class="popup-content">
                       <div style="font-size: 40px; color: #ab191f;"  id="close-btn"><i class="fas fa-times-circle"></i></div>
                       <h2 style="font-size: 30px;">Atención!</h2>
                       <ul style=" padding-right: 40px; text-align: center; border-radius: 20px; ">
                           <% for(let i = 0; i < errors.length;i++) { %>
                           <li style="list-style-type: none; font-size: 20px; margin-top: 10px; margin-bottom: 10px;" > <%= errors[i].msg %> </li>
                           <% } %>
                       </ul>
                   </div>
               </div>
   
               <script>
                   let close = document.getElementById('close-btn')
   
                   close.onclick = function () {
                       document.getElementById('popup-1').style.display = "none"
                       document.getElementById('popup-1').style.transition =  ('all 300ms ease-in-out')
                   }
               </script>
               <% } %>
   
   
   
   
            
            <%  if(locals.emailExist){ %>
               <script>
                  Swal.fire({
                     icon: 'error',
                     title: 'Email ya registrado',
                     showConfirmButton: false,
                     timer: 2000
                  })
               </script>
   
               <% } %>
   


            <form class="datosRegisterForm" id="formRegister" action="/log" method="POST" enctype='multipart/form-data'>
               <div class="inputLogin">


                  <input class="boton-login" placeholder="Nombre" style="text-transform: capitalize;" id="nombre"
                     type="text" name="nombre">
                  <br>

                  <input class="boton-login" placeholder="Apellido" style="text-transform: capitalize;" id="apellido"
                     type="text" name="apellido">
                  <br>

                  <input class="boton-login" placeholder="Usuario" type="text" id="usuario" name="usuario">
                  <br>

                  <input class="boton-login" placeholder="Correo electrónico" id="emailRegister" type="text"
                     name="email">
                  <br>

                  <input class="boton-login" placeholder="Domicilio" style="text-transform: capitalize;" id="domicilio"
                     type="text" name="domicilio">
                  <br>

                  <input class="boton-login" placeholder="Foto de perfil" id="foto" type="file" name="imagen">
                  <br>

                  <label style="font-weight: 900; padding-bottom: 10px;" id="capsLock"> Mayúsculas activadas </label>
                  <input class="boton-login" placeholder="Contraseña" id="password" type="password" name="password">
                  <br>
                  <input class="boton-login" placeholder="Repetir contraseña" name="passwordConfirmar"
                     id="passwordConfirmar" type="password">
                  <br>
               </div>
               <button style="margin-bottom: 20px" class="boton-enviar" id="registrarse" type="submit"> Completar
                  registración </button>






            </form>



         </div>
      </div>
   </main>
   <div class="footerNavbar">
      <%- include("partials/footernavbar") %>
   </div>

   <script src="/js/CapsLock.js"></script>

   <script src="/js/registerValidation.js"> </script>


</body>

</html>